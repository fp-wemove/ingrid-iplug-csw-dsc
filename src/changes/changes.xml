<?xml version="1.0" encoding="utf-8"?>
<document>
  <properties>
    <title>Changes Ingrid iPlug CSW AP ISO 1.0 (ingrid-iplug-csw-dsc)</title>
    <author email="joachim.mueller@wemove.com">Joachim Müller</author>
  </properties>
  <body>
    <release version="5.5.0-SNAPSHOT" date="2020-xx-xx" description="Release 5.5.0">
      <action type="add" dev="wemove" issue="1988">
        Make HTTP read timeout configurable.
      </action>
      <action type="add" dev="wemove" issue="1898">
        Change the container’s privilege to a non-root user.
      </action>
    </release>

    <release version="5.4.0" date="2020-04-17" description="Release 5.4.0">
      <action type="update" dev="wemove" issue="1536">
        Add index fields (hierarchylevel, alternatetitle, t02_address.administrative_area_value).
      </action>
      <action type="fix" dev="wemove" issue="1670">
        Fix highlight summary by search query.
      </action>
    </release>

    <release version="5.3.0" date="2020-01-13" description="Release 5.3.0">
      <action type="update" dev="wemove">
        Updated dependencies (iplug, utils, codelist-service).
      </action>
      <action type="update" dev="wemove">
        Add mod_time and modified to index.
      </action>
      <action type="fix" dev="wemove" issue="1598">
        Fix mapping of capabilities URL.
      </action>
    </release>

    <release version="5.2.0" date="2019-10-25" description="Release 5.2.0">
      <action type="fix" dev="wemove">
        Fix problem with display in portal detail view. Object class was not accessible.
      </action>
    </release>

    <release version="5.0.1" date="2019-04-11" description="Release 5.0.1">
      <action type="fix" dev="wemove">
        Fix index name generation.
      </action>
    </release>

    <release version="5.0.0" date="2019-04-05" description="Release 5.0.0">
      <action type="update" dev="wemove" issue="835">
        Use central index for indexing data.
      </action>
    </release>

    <release version="4.6.0" date="2019-01-16" description="Release 4.6.0">
      <action type="update" dev="wemove" issue="">
        Improve docker compatibility: move csw cache and elastic search data into a sub directory 'data',
        create pattern file in Dockerfile, to be able to map the data into a docker volume.
      </action>
      <action type="fix" dev="wemove" issue="1193">
        Fix initial codelists (1320, 6005, 6100), data was lost when codelists were separated.
      </action>
    </release>

    <release version="4.5.0" date="2018-10-08" description="Release 4.5.0">
      <action type="update" dev="wemove" issue="REDMINE-1149">
        GeoPortal: Skip all non "download" URLs when harvesting GeoKatalog.WSV.
      </action>
      <action type="update" dev="wemove">
        Write log files into dedicated logs directory.
      </action>
      <action type="update" dev="wemove">
        Updated dependencies (admin-gui).
      </action>
    </release>

    <release version="4.3.0" date="2018-03-22" description="Release 4.3.0">
      <action type="update" dev="wemove">
        Updated dependencies (current jars).
      </action>
    </release>

    <release version="4.2.0" date="2018-01-05" description="Release 4.2.0">
      <action type="add" dev="wemove">
        Added docker integration.
      </action>
    </release>
    
    <release version="4.1.0" date="2017-10-04" description="Release 4.1.0">
      <action type="update" dev="wemove" issue="563">
        Added syslist 6010 accessConstraints to codelist service.
      </action>
    </release>

    <release version="4.0.2" date="2017-04-06" description="Release 4.0.2">
      <action type="fix" dev="wemove" issue="REDMINE-616">
        Fixed handling of multiple values inside an index field on detail request.
      </action>
    </release>

    <release version="4.0.1" date="2017-02-01" description="Release 4.0.1">
      <action type="fix" dev="wemove" issue="REDMINE-465">
        Fixed wrong path to save data when using cygwin.
      </action>
      <action type="fix" dev="wemove" issue="REDMINE-464">
        Fixed showing old service URL after it has been changed.
      </action>
    </release>
    
    <release version="4.0.0.1" date="2016-09-19" description="Release 4.0.0.1">
      <action type="fix" dev="wemove" issue="REDMINE-440">
        Cannot consume documents with gmd:series element and resulting multiple gmd:fileIdentifier Elements.
      </action>
    </release>

    <release version="4.0.0" date="2016-08-29" description="Release 4.0.0">
      <action type="update" dev="wemove" issue="REDMINE-408">
        Updated codelist.
      </action>
      <action type="update" dev="wemove">
        Updated webapp and start script info.
      </action>
    </release>
    
    <release version="3.6.2" date="2016-05-13" description="Release 3.6.2">
      <action type="add" dev="wemove" issue="REDMINE-34">
        Improved status messages while indexing.
      </action>
      <action type="add" dev="wemove" issue="REDMINE-267">
        Create IDF details while indexing and add it to index document. Use IDF from index document if exists.
      </action>
      <action type="fix" dev="wemove" issue="REDMINE-264">
        Do not index from cache if getCapabilities request failed.
      </action>
      <action type="fix" dev="wemove" issue="REDMINE-269">
        Fixed redirect to welcome page for a logged in user.
      </action>
    </release>
    
    <release version="3.6.1" date="2015-11-17" description="Release 3.6.1">
      <action type="update" dev="wemove" issue="REDMINE-15">
        Remove all references to PortalU.
      </action>
      <action type="fix" dev="wemove" issue="REDMINE-176">
        Fixed query problem with wildcards.
      </action>
      <action type="update" dev="wemove" issue="REDMINE-106">
        Use encrypted password for web interface.
      </action>
    </release>

    <release version="3.6.0.3" date="2015-09-08" description="Release 3.6.0.3">
      <action type="fix" dev="wemove" issue="REDMINE-130">
        Fixed mapping of index to handle UUIDs as whole, otherwise a wrong dataset could be fetched.
      </action>
      <action type="fix" dev="wemove" issue="REDMINE-142,REDMINE-89">
        Fixed query generation and request of index fields.
      </action>
    </release>
    
    <release version="3.6.0" date="2015-06-19" description="Release 3.6.0">
      <action type="add" dev="wemove" issue="REDMINE-6">
        Added elastic search as new indexing method.
      </action>
    </release>
    
    <release version="3.5.1" date="2015-04-15" description="Release 3.5.1">
        <action type="add" dev="wemove">
             Added XMLPostRequest to use plain POST method as alternative to SOAP requests (set in spring.xml).
        </action>
        <action type="update" dev="wemove">
             Change behavior when indexing CSW records: Do not restart fetching when record can't be read from cache ! Instead continue indexing with next record from cache !
        </action>
        <action type="update" dev="wemove">
            Change behavior when fetching CSW records: On failure try now multiple times per request with increasing pause in between.
            Count failures and stop fetching if maximum number of failures reached (across various requests).
        </action>
    </release>

    <release version="3.5.0" date="2015-01-30" description="Release InGrid 3.5.0">
        <action type="add" dev="wemove" issue="REDMINE-591">
            Added additional tokenizing to index mapping, e.g. splitting URLs by "." and "/" to be able to search for URL elements.
        </action>
        <action type="add" dev="wemove" issue="REDMINE-524">
            Added license header to all source files for Open Source migration.
        </action>
    </release>

    <release version="3.4.0.2" date="2014-08-04" description="Bugfix Release InGrid 3.4.0.2">
      <action type="update" dev="wemove" issue="INGRID-2350">
          Fall back to regular expression based trimming if trim() is not defined.
      </action>
    </release>

    <release version="3.4.0.1" date="2014-04-29" description="Bugfix Release InGrid 3.4.0.1">
      <action type="update" dev="wemove">
          Improve robustness of analyzing coupled resources in case of empty xml attributes.
      </action>
      <action type="update" dev="wemove" issue="INGRID-2350">
          Reinitialize script engine before every indexing process to avoid long term javascript errors.
      </action>
    </release>

    <release version="3.4.0" date="2014-02-25" description="Release InGrid 3.4.0">
      <action type="add" dev="wemove" issue="REDMINE-136">
          Added handling of coupled resources and pre generate IDF records while indexing.
      </action>
    </release>

    <release version="3.3.1" date="2013-10-31" description="Release InGrid 3.3.1">
      <action type="update" dev="wemove" issue="INGRID-2246">
          Use german analyzer when creating/searching lucene index, now configured via XML.
          Also fix encoding of umlaute in request parameters (test search with umlaute works now in admin-gui).
      </action>
        <action type="update" dev="wemove">
          Map keywords consistently to t04search... index fields.
        </action>
    </release>

    <release version="3.3.0.1" date="2013-03-15" description="Bugfix Release InGrid 3.3.0.1">
        <action type="add" dev="wemove" issue="GEOPORTALWSV-39">
          Added new mapper class for post processing of existing IDF.
          Added WSV configuration for post processing of index and IDF.
        </action>
    </release>

    <release version="3.3.0" date="2013-03-05" description="Release InGrid 3.3">
        <action type="add" dev="wemove" issue="INGRID-2166">
          Add mapping of Ingrid specific hierarchyLevelNames to object classes.
        </action>
        <action type="update" dev="wemove" issue="INGRID-2156">
          Connect to iBus even if the iBus was started after the iPlug.
        </action>
        <action type="update" dev="wemove">
          MD_BrowseGraphic (Preview Graphic): Using style class-attribute, class is defined in the portal.
        </action>
        <action type="update" dev="wemove">
          Delay codelist retrieval job by 5 sec at startup.
        </action>
    </release>

    <release version="3.2.1.1" date="2012-11-25" description="Bugfix Release InGrid 3.2.1.1">
        <action type="add" dev="wemove" issue="INGRID-2150">
            Add java parameter "-Dfile.encoding=UTF8" to start script.
        </action>
        <action type="fix" dev="wemove" issue="INGRID-2176">
            Fix problem where no facet was produced from index field values if a query fragment was defined in the facet definition.
        </action>
	</release>

    <release version="3.2.1" date="2012-09-26" description="Bugfix Release InGrid 3.2.1">
      <action type="fix" dev="wemove">
        Fix date calculation issue in incremental optimized strategy when the date tag in ISO is not fully specified up to the second.
      </action>
      <action type="add" dev="wemove" issue="INGRID33-4">
        Added local working directory, so that temp-dir is not deleted accidentally when cleaning up global temp dir.
      </action>
      <action type="fix" dev="wemove">
        Infobox during indexing now updates correctly and disappears when finished.
      </action>
    </release>
    <release version="3.2.0" date="2012-07-13" description="Release InGrid 3.2">
      <action type="add" dev="wemove">
        Use GET Request for Capabilities instead of SOAP.
      </action>
      <action type="add" dev="wemove" issue="INGRID32-24">
        Usage of codelist repository to get codelist values from.
      </action>
      <action type="add" dev="wemove">
        Add support for SAML ticket authentication for protected services.
      </action>
      <action type="add" dev="wemove">
        Add support for generating facets if requested.
      </action>
      <action type="update" dev="wemove">
        Improve robustness of index process in case of an unexpected exception during harvesting.
      </action>
      <action type="update" dev="wemove" issue="INGRID-2114">
        Use not optimized harvesting per default, since gmd:dateStamp is NOT used as modified date in many CSW datasources.
      </action>
      <action type="update" dev="wemove" issue="INGRID-1885">
        Updated start.sh, which had an issue when being batch-invoked, deleted RSYNC which is no longer used, see https://dev.wemove.com/jira/browse/INGRID-1885
      </action>
      <action type="fix" dev="wemove">
        Fix problem in start script. Heap memory settings were not set correctly.
      </action>
      <action type="fix" dev="wemove">
        Fix optimized update strategy. Only modified records (summary, full) will be fetched (brief records will always be fetched). Delete 'updatejob.dat' to fetch all records again.
      </action>
      <action type="fix" dev="wemove">
        Fix problem with failing succeeding harvest processes if an exception occurs while harvesting.
      </action>
      <action type="fix" dev="wemove">
        Fix query problems if a stop word is part of the query (i.e. 'is').
      </action>
    </release>

    <release version="3.1.0" date="2011-09-15" description="Release InGrid 3.1">
      <action type="update" dev="wemove" issue="INGRID-1962">
        Rework title and general content query analysis to better match the analysis of the index process.
      </action>
      <action type="update" dev="wemove">
        Rework index handling to safely work with windows systems (file locking problems resolved).
      </action>
      <action type="fix" dev="wemove" issue="INGRID-1942">
        Fixed time range search.
      </action>
      <action type="fix" issue="INGRID-1992">
        Changed logging behavior, so that not so many files will be created.
      </action>
    </release>
    <release version="3.0.1" date="2011-07-04" description="Add-Ons + Bugfixes for InGrid 3.0">
      <action type="update" issue="INGRID-1940">
        Introduced new field "metainfo" in query for various control info to be handled by iBus / iPlugs.
      </action>
      <action type="add" dev="wemove" issue="INGRID23-60">
        Allow multiple spatial systems ("Raumbezugssystem"), now 1:n association.
      </action>
      <action type="add" dev="wemove" issue="INGRID23-152">
        Add a new index.sh script to index an iPlug from command line.
      </action>
      <action type="fix" dev="wemove" issue="INGRID23-246">
        Fixed localisation of CSW Parameters admin page.
      </action>
      <action type="fix" dev="wemove">
        Set file encoding explicitly to UTF-8 also on windows systems !
      </action>
      <action type="fix" dev="wemove">
        Change outputformat from "text/xml" to "application/xml" for more compatibility.
      </action>
      <action type="fix" dev="wemove">
        Make sure fields are indexed analyzed, because the search terms will be analyzed as well.
      </action>
      <action type="fix" dev="wemove">
        Changed iPlug-Type in Manifest to IPLUG_CSW_DSC (to be handled by Upgrader).
      </action>
    </release>

    <release version="3.0.0" date="2011-05-06" description="Release InGrid 3.0">
      <action type="add">
        Update webapp, introduce new architecture for the iPlug.
      </action>
  	  <action type="add">
        Transformation to InGridDataFormat (IDF), which only can be understood from other components starting from version 3.0.0.
      </action>
      <action type="add">
        Query fileIdentifier more explicitly, avoiding errors when another fileIdentifier element is present in source.
      </action>
      <action type="fix">
        Fix big native memory leak, because axis2 service client was not destroyed.
      </action>
    </release>
    <release version="2.3.1" date="2011-01-20" description="Release">
      <action type="add">
        Do not cancel the harvesting process if an error occurs while fetching a record detail with GetRecordById.
      </action>
    </release>
    <release version="1.1.2" date="2010-07-14" description="Release">
      <action type="add">
        Bei Anfrage InGrid Query ohne Suchparameter werden jetzt alle Ergebnisse zurück geliefert.
      </action>
      <action type="add">
        Einbindung in Upgrade Server.
      </action>
      <action type="fix" dev="wemove" issue="INGRID-1843">
        Admin-GUI: Meldung bei fehlerhafter Indexerstellung, Csw Service URL "direkt" änderbar, neueste Query Extension, neues Index Feld "Objektklasse"
      </action>
      <action type="add">
        Einführung des Index-Feldes 'location'.
      </action>
    </release>

    <release version="1.1.1" date="2009-12-12" description="Release">
      <action type="add">
        Abbildung von gmd:MD_BrowseGraphic auf IGC Verweis ergaenzt.
      </action>
      <action type="fix">
        Verschiedene Fehler beim Mapping auf IGC Format behoben.
      </action>
    </release>
    <release version="1.1.0" date="2009-07-10" description="Release">
      <action type="add">
        Initiales Release
      </action>
    </release>
  </body>
</document>
